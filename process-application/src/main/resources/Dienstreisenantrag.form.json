{
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "type": "string",
        "title": "Name",
        "description": "The name of the applicant"
      },
      "email": {
        "type": "string",
        "title": "Email",
        "description": "The email of the approver.",
        "format": "email"
      },
      "comment": {
        "type": "string",
        "title": "Kommentar"
      },
      "approval": {
        "type": "boolean",
        "title": "Genehmigung"
      },
      "salutation": {
        "type": "string",
        "title": "Anrede"
      },
      "title": {
        "type": "string",
        "title": "Title"
      },
      "iban": {
        "type": "string",
        "title": "IBAN"
      },
      "tripType": {
        "type": "string",
        "title": "Art der Reise"
      },
      "startPoint": {
        "type": "string",
        "title": "Startpunkt"
      },
      "startDate": {
        "type": "string",
        "title": "Startdatum",
        "format": "date"
      },
      "destinations": {
        "type": "array",
        "items": {
          "$ref": "#/$defs/destination"
        }
      },
      "approvalComment": {
        "type": "string",
        "title": "Kommentar"
      },
      "finalDestination": {
        "$ref": "#/$defs/destination"
      }
    },
    "required": [
      "approval"
    ],
    "if": {
      "properties": {
        "approval": {
          "const": false
        }
      }
    },
    "then": {
      "required": [
        "comment"
      ]
    },
    "$defs": {
      "destination": {
        "type": "object",
        "properties": {
          "city": {
            "type": "string",
            "title": "Ort"
          },
          "date": {
            "type": "string",
            "title": "Datum",
            "format": "date"
          }
        }
      }
    }
  },
  "uischema": {
    "type": "VerticalLayout",
    "elements": [
      {
        "type": "HorizontalLayout",
        "elements": [
          {
            "type": "Control",
            "scope": "#/properties/salutation"
          },
          {
            "type": "Control",
            "scope": "#/properties/title"
          },
          {
            "type": "Control",
            "scope": "#/properties/name",
            "label": "Name",
            "options": {
              "readonly": true
            }
          }
        ]
      },
      {
        "type": "Control",
        "scope": "#/properties/email",
        "label": "Email",
        "options": {
          "readonly": true
        }
      },
      {
        "type": "Control",
        "scope": "#/properties/iban"
      },
      {
        "type": "HorizontalLayout",
        "elements": [
          {
            "type": "Control",
            "scope": "#/properties/tripType"
          },
          {
            "type": "Control",
            "scope": "#/properties/startPoint"
          },
          {
            "type": "Control",
            "scope": "#/properties/startDate"
          }
        ]
      },
      {
        "type": "Control",
        "scope": "#/properties/comment",
        "label": "Kommentar",
        "rule": {
          "effect": "SHOW",
          "condition": {
            "scope": "#/properties/approval",
            "schema": {
              "const": false
            }
          }
        }
      },
      {
        "type": "Control",
        "scope": "#/properties/destinations"
      },
      {
        "type": "Control",
        "scope": "#/properties/finalDestination"
      },
      {
        "type": "Control",
        "scope": "#/properties/approval",
        "label": "Genehmigung"
      },
      {
        "type": "Control",
        "scope": "#/properties/approvalComment"
      }
    ]
  }
}